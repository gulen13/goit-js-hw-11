!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){n[e]=r},r.parcelRequired7c6=a);var o=a("bpxeT"),s=a("2TvXO"),i=a("h6c0i"),c=a("9uO0Q"),l=a("7g3w1"),u=a("5IjG7"),d=document.querySelector(".search-form"),f=document.querySelector(".gallery"),h=document.querySelector(".load-more");h.classList.add("is-hidden");var p,y=new(0,c.PixabayAPI),g=new(e(u))(".gallery a",{captionsData:"alt",captionDelay:250}),v=(p=e(o)(e(s).mark((function r(t){var n,a,o,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y.pageReset(),f.innerHTML="",n=t.currentTarget.elements.searchQuery.value.trim().toLowerCase(),y.query=n,""!==n){e.next=9;break}return d.reset(),i.Notify.info("Please enter search request",{clickToClose:!0}),e.abrupt("return");case 9:return e.prev=9,e.next=12,y.fetchPhotos();case 12:if(a=e.sent,o=a.hits,c=a.totalHits,0!==a.total){e.next=20;break}return h.classList.add("is-hidden"),i.Notify.failure("Sorry, there are no images matching your search query. Please try again.",{clickToClose:!0}),e.abrupt("return");case 20:c<y.page*y.perPage?h.classList.add("is-hidden"):h.classList.remove("is-hidden"),i.Notify.success("Hooray! We found ".concat(c," images."),{clickToClose:!0}),(0,l.createGalleryCards)(o),g.refresh(),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(9),console.log(e.t0);case 29:case"end":return e.stop()}}),r,null,[[9,26]])}))),function(e){return p.apply(this,arguments)}),m=function(){var r=e(o)(e(s).mark((function r(){var t,n,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.incrementPage(),e.prev=1,e.next=4,y.fetchPhotos();case 4:t=e.sent,n=t.hits,a=t.totalHits,t.total,a<y.page*y.perPage&&(h.classList.add("is-hidden"),i.Notify.info("We're sorry, but you've reached the end of search results.",{clickToClose:!0})),(0,l.createGalleryCards)(n),g.refresh(),w(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),r,null,[[1,14]])})));return function(){return r.apply(this,arguments)}}();function w(){var e=f.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:2*e,behavior:"smooth"})}d.addEventListener("submit",v),h.addEventListener("click",m)}();
//# sourceMappingURL=01-load-more.1eb4ac97.js.map
