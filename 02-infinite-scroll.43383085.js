!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o);var a,c=o("bpxeT"),s=o("2TvXO"),i=o("h6c0i"),l=o("9uO0Q"),u=o("7g3w1"),f=o("5IjG7"),d=document.querySelector(".search-form"),p=document.querySelector(".gallery"),h=new(0,l.PixabayAPI),y=new(e(f))(".gallery a",{captionsData:"alt",captionDelay:250}),v=(a=e(c)(e(s).mark((function t(r){var n,o,a,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),h.pageReset(),p.innerHTML="",n=r.currentTarget.elements.searchQuery.value.trim().toLowerCase(),h.query=n,""!==n){e.next=9;break}return d.reset(),i.Notify.info("Please enter search request",{clickToClose:!0}),e.abrupt("return");case 9:return e.prev=9,e.next=12,h.fetchPhotos();case 12:if(o=e.sent,a=o.hits,c=o.totalHits,0!==o.total){e.next=19;break}return i.Notify.failure("Sorry, there are no images matching your search query. Please try again.",{clickToClose:!0}),e.abrupt("return");case 19:i.Notify.success("Hooray! We found ".concat(c," images."),{clickToClose:!0}),(0,u.createGalleryCards)(a),y.refresh(),c<h.page*h.perPage?window.removeEventListener("scroll",m):window.addEventListener("scroll",m),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(9),console.log(e.t0);case 28:case"end":return e.stop()}}),t,null,[[9,25]])}))),function(e){return a.apply(this,arguments)}),g=function(){var t=e(c)(e(s).mark((function t(){var r,n,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.incrementPage(),e.prev=1,e.next=4,h.fetchPhotos();case 4:r=e.sent,n=r.hits,o=r.totalHits,r.total,(0,u.createGalleryCards)(n),y.refresh(),o<h.page*h.perPage&&(i.Notify.info("We're sorry, but you've reached the end of search results.",{clickToClose:!0}),window.removeEventListener("scroll",m)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}();var m=function(){document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+200&&g()};d.addEventListener("submit",v),window.addEventListener("scroll",m)}();
//# sourceMappingURL=02-infinite-scroll.43383085.js.map
